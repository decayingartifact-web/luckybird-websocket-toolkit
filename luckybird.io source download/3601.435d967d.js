"use strict";(self["webpackChunkluckybird"]=self["webpackChunkluckybird"]||[]).push([[3601],{236007:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var i=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:e.isShowAffiliate,expression:"isShowAffiliate"}],staticClass:"affiliate_page commonAlert_page",on:{click:function(t){return t.target!==t.currentTarget?null:e.close.apply(null,arguments)}}},[t("div",{staticClass:"affiliate_wrap commonAlert_wrap"},[t("div",{staticClass:"commonAlert_close"},[t("svg",{staticClass:"iconpark-icon",on:{click:e.close}},[t("use",{attrs:{href:"#close"}})])]),t("h2",{staticClass:"affiliate_title commonAlert_title"},[t("svg",{staticClass:"iconpark-icon"},[t("use",{attrs:{href:"#InviteFriends"}})]),t("span",[e._v("Affiliate")])]),t("div",{staticClass:"affiliate_header_top tw-flex tw-justify-center tw-items-center tw-flex-col"},[t("div",{staticClass:"affiliate_header2 tw-flex tw-justify-between tw-items-center tw-px-5"},[t("div",{staticClass:"affiliate_ul2 tw-nav tw-h-9"},e._l(e.tabData,(function(a,i){return t("div",{class:{"tw-nav-active":e.activeLiNum==i},domProps:{textContent:e._s(a.text)},on:{click:function(t){return e.navEvent(i)}}})})),0)]),t("div",{staticClass:"affiliate_selectCurrency tw-w-[100px] tw-mt-4"},[e.isShowAffiliate?t("select-currency",{attrs:{isShowAmount:!1,className:".affiliate_page .affiliate_selectCurrency"},on:{independentCurrencyChange:e.independentCurrencyChange}}):e._e()],1)]),e.isShowAffiliate?t("keep-alive",[t(e.tabData[e.activeLiNum].tabName,{tag:"component",attrs:{independentCurrency:e.independentCurrency},on:{selectedTabEvent:e.navEvent}})],1):e._e()],1),t("cause-rain",{attrs:{visible:e.causeRainVisible,openNum:2,appendToBody:!0},on:{"update:visible":function(t){e.causeRainVisible=t}}})],1)},n=[],r=a(459345),s=a(609694),o=a(416884),l=a(695353),c=function(){var e=this,t=e._self._c;return t("section",{staticClass:"affiliateCampaign_page"},[t("el-form",{ref:"affiliateCampaignForm",staticClass:"affiliateCampaignForm",attrs:{inline:!0,"status-icon":"","label-position":"top","hide-required-asterisk":!0,model:e.affiliateCampaignForm,rules:e.affiliateCampaignFormRules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{prop:"name",label:"CAMPAIGN NAME"}},[t("el-input",{ref:"nameFocus",attrs:{type:"text",autofocus:"true"},nativeOn:{keydown:function(e){e.stopPropagation()}},model:{value:e.affiliateCampaignForm.name,callback:function(t){e.$set(e.affiliateCampaignForm,"name",t)},expression:"affiliateCampaignForm.name"}})],1),t("el-form-item",{attrs:{prop:"code",label:"CAMPAIGN CODE"}},[t("el-input",{attrs:{type:"text"},nativeOn:{keydown:function(e){e.stopPropagation()}},model:{value:e.affiliateCampaignForm.code,callback:function(t){e.$set(e.affiliateCampaignForm,"code",t)},expression:"affiliateCampaignForm.code"}})],1),t("el-form-item",[t("el-button",{staticClass:"create_code_btn tw-h-[40px] tw-leading-[40px]",attrs:{type:"primary"},on:{click:function(t){return e.submitAffiliateCampaignForm("affiliateCampaignForm")}}},[e._v("CREATE")])],1)],1),t("div",{staticClass:"affiliateCampaign_tableWrap"},[t("div",{staticClass:"shuaxin",on:{click:e.shuaxin}},[t("svg",{staticClass:"iconpark-icon"},[t("use",{attrs:{href:"#refresh-n"}})])]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":e.$t("common.loading"),"element-loading-spinner":"el-icon-loading",stripe:"",data:e.cmAffiliateCampaignData,"max-height":"300"}},[t("el-table-column",{attrs:{prop:"title",label:"NAME",width:"100"}}),t("el-table-column",{attrs:{prop:"link",label:"LINK",width:"115"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a",{attrs:{href:a.row.link}},[e._v(e._s(a.row.link))]),t("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.row.link,expression:"scope.row.link",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onCopyError,expression:"onCopyError",arg:"error"}],staticClass:"share iconfont"},[e._v("")])]}}])}),t("el-table-column",{attrs:{prop:"hits",label:"HITS",width:"55"}}),t("el-table-column",{attrs:{prop:"referrals",label:"REFERRALS",width:"85"}}),t("el-table-column",{attrs:{prop:"percent",label:"PERCENT",width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.percent+"%"))])]}}])}),t("el-table-column",{attrs:{prop:"create_time",label:"CREATED",width:"90"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.timeFormat(a.row.create_time,!0,!0)))])]}}])}),t("el-table-column",{attrs:{prop:"available",label:"AVAILABLE",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"column_currency"},[t("span",{domProps:{textContent:e._s(a.row.available[e.independentCurrency].amount)}},[e._v("0.00000000")]),t("img",{attrs:{src:e.judgeCurrencyIcon(e.independentCurrency),alt:"currency"}})])]}}])}),t("el-table-column",{attrs:{prop:"withdrawal",label:"WITHDRAWN",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"column_currency"},[t("span",{domProps:{textContent:e._s(a.row.withdrawal[e.independentCurrency].amount)}},[e._v("0.00000000")]),t("img",{attrs:{src:e.judgeCurrencyIcon(e.independentCurrency),alt:"currency"}})])]}}])}),t("el-table-column",{attrs:{prop:"total",label:"TOTAL",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"column_currency"},[t("span",{domProps:{textContent:e._s(a.row.total[e.independentCurrency].amount)}},[e._v("0.00000000")]),t("img",{attrs:{src:e.judgeCurrencyIcon(e.independentCurrency),alt:"currency"}})])]}}])}),t("el-table-column",{attrs:{prop:"amount",label:"LIST",width:"45"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"lajitong iconfont",on:{click:function(t){return e.openQun(a.row)}}},[e._v("")])]}}])}),t("el-table-column",{attrs:{prop:"support_user",label:"YOUR PRINCIPAL",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{textDecoration:a.row.support_user?"underline":"default",cursor:a.row.support_user?"pointer":"default"},on:{click:function(t){return e.showUserInfoEvent(a.row.support_user)}}},[e._v(e._s(a.row.support_user?a.row.support_user.name:"-"))])]}}])})],1)],1),t("affiliate-member",{attrs:{visible:e.isShowAffiliateMember,allianceCode:e.allianceCode,appendToBody:!0},on:{"update:visible":function(t){e.isShowAffiliateMember=t}}})],1)},d=[],u=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"affiliateMember_page commonAlert_page",on:{click:function(t){return t.target!==t.currentTarget?null:e.close.apply(null,arguments)}}},[t("div",{staticClass:"affiliateMember_wrap commonAlert_wrap"},[t("span",{staticClass:"affiliateMember_close iconfont commonAlert_close",on:{click:e.close}},[e._v("")]),t("h2",{staticClass:"affiliateMember_title commonAlert_title"},[e._v("Affiliate Member")]),t("div",{staticClass:"affiliateMember_selectCurrency"},[e.visible?t("select-currency",{attrs:{isShowAmount:!1,className:".affiliateMember_page .affiliateMember_selectCurrency"},on:{independentCurrencyChange:e.independentCurrencyChange}}):e._e()],1),t("div",{staticClass:"affiliateMember_main"},[t("p",{staticClass:"main_title"},[e._v("Total Member : "+e._s(e.affiliateMember.count))]),t("el-table",{key:"aTable",ref:"aTable",staticStyle:{width:"100%"},attrs:{data:e.affiliateMember.arr,"default-sort":{prop:"create_time",order:"descending"}},on:{"selection-change":e.handleSelectionChange,"sort-change":e.sortChange}},[t("el-table-column",{attrs:{prop:"user_name",label:"Username"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{cursor:"pointer","text-decoration":"underline"},on:{click:function(t){return e.showUserInfoEvent(a.row)}}},[e._v(e._s(a.row.user_name))])]}}])}),t("el-table-column",{attrs:{prop:"nick_name",label:"Nickname"}}),t("el-table-column",{attrs:{prop:"create_time",label:"Create Time",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.timeFormat(a.row.create_time,!0,!0)))])]}}])}),t("el-table-column",{attrs:{prop:"login_time",label:"Last Login Time",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.timeFormat(a.row.login_time?a.row.login_time:a.row.create_time,!0,!0)))])]}}])}),t("el-table-column",{attrs:{prop:"bet_wager",label:"Wager Amount"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"column_currency",on:{click:function(t){return e.showAmount(a.row)}}},[t("img",{directives:[{name:"show",rawName:"v-show",value:a.row.wager,expression:"scope.row.wager"}],staticClass:"amount_img",attrs:{src:e.judgeCurrencyIcon(e.independentCurrency),alt:"currency"}}),t("span",{style:{cursor:a.row.wager?"default":"pointer",textDecoration:a.row.wager?"none":"underline"}},[e._v(e._s(a.row.wager?a.row.wager[e.independentCurrency].wagered:"View"))])])]}}])})],1),e.affiliateMember.count>e.affiliateMember.limit?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.affiliateMember.count,"page-size":e.affiliateMember.limit,"pager-count":5},on:{"current-change":e.sentNowPageEvent}}):e._e()],1)])])},m=[],f=a(209306),p={name:"affiliateMember",mixins:[f.Vz],components:{SelectCurrency:r.A},props:{visible:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},allianceCode:{type:String,default:""}},data(){return{currency:s.Gl,judgeCurrencyIcon:o.yp,timeFormat:o.DC,affiliateMember:{count:0,arr:[],limit:0},nowPage:0,sortType:0,defaultSort:{},multipleSelection:[],isShowUserInfo:!1,itemUserData:{},independentCurrency:"btc"}},watch:{visible(e){e?(this.$emit("open"),this.initData()):(this.$emit("close"),this.clearData())}},computed:{...(0,l.aH)(["isConnected","userInfo"]),selectCurrency:{get(){return this.$store.state.selectCurrency},set(e){this.SELECT_CURRENCY(e)}}},methods:{...(0,l.PY)(["SELECT_CURRENCY","RECORD_COMMONALERTSTATUS"]),independentCurrencyChange(e){this.independentCurrency=e},close(){document.body.classList.remove("body_hidden"),this.$emit("update:visible",!1),this.$emit("close")},initData(){let e=this;this.appendToBody&&(document.body.appendChild(this.$el),document.body.classList.add("body_hidden")),this.sendAffiliateMember(),this.network.addListener(3521,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):e.affiliateMember=t.detail)})),this.network.addListener(3522,(function(t){if(!e.listenerDataCommonDispose(t))if(t.errcode<0)e.$message({showClose:!0,message:t.msg,type:"error"});else{for(let a of e.affiliateMember.arr)if(a.uid==t.wager.uid){a.wager=t.wager;break}e.affiliateMember.arr=e.affiliateMember.arr.slice()}}))},clearData(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),document.body.classList.remove("body_hidden"),this.network.removeListeners([3521,3522])},handleSelectionChange(e){this.multipleSelection=e},isSelcet(e,t){return 4!=t},sortChange(e){this.judgeSort(!1,e),this.sendAffiliateMember()},showAmount(e){this.network.send(3522,{uid:e.uid})},judgeSort(e,t){if(e){let e={};switch(this.sortType){case 0:e={prop:"create_time",order:"descending"};break;case 1:e={prop:"create_time",order:"ascending"};break;case 2:e={prop:"login_time",order:"descending"};break;case 3:e={prop:"login_time",order:"ascending"};break}return e}switch(t.prop){case"create_time":this.sortType="ascending"==t.order?1:0;break;case"login_time":this.sortType="ascending"==t.order?3:2;break}},sendAffiliateMember(){this.isConnected&&this.network.send(3521,{alliance_code:this.allianceCode,sort_type:this.sortType,page:this.nowPage})},sentNowPageEvent(e){this.nowPage=e-1,this.sendAffiliateMember()},showUserInfoEvent(e){this.RECORD_COMMONALERTSTATUS({isShowUserInfo:!0,showUserInfoUid:e.uid,isShowUserInfoHidden:!1})},isCommonEvent(e){this.isCommon=e,this.sendAffiliateMember()}},mounted(){},beforeDestroy(){}},h=p,w=a(281656),C=(0,w.A)(h,u,m,!1,null,null,null),g=C.exports,y={name:"affiliateCampaign",components:{AffiliateMember:g},props:["independentCurrency"],data(){return{timeFormat:o.DC,judgeCurrencyIcon:o.yp,affiliateCampaignForm:{name:"",code:""},affiliateCampaignFormRules:{name:[{required:!0,message:"Please enter your campaign name",trigger:"blur"}],code:[{required:!0,message:"Please enter your campaign code",trigger:"blur"}]},affiliateCampaignData:[],isShowAffiliateMember:!1,allianceCode:"",isShowPartnerPlan:!1,isShowUserInfo:!1,itemUserData:{},loading:!1}},watch:{isConnected(){this.isConnected&&this.network.send(3047),this.shuaxin()}},computed:{...(0,l.aH)(["userInfo","isConnected","selectCurrency","urlParam"]),cmAffiliateCampaignData(){return this.affiliateCampaignData.reverse()}},methods:{...(0,l.PY)(["RECORD_SHAREVISIBLE","RECORD_COMMONALERTSTATUS"]),submitAffiliateCampaignForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message({showClose:!0,message:"error submit!!",type:"error"}),!1;this.network.send(3046,{title:this.affiliateCampaignForm.name,alliance_code:this.affiliateCampaignForm.code.toLocaleLowerCase(),support_name:this.urlParam?this.urlParam.name:""})}))},refFous(){this.$nextTick((()=>{this.$refs["nameFocus"]?this.$refs["nameFocus"].$el.querySelector("input").focus():this.$refs["newPasswordFocus"].$el.querySelector("input").focus()}))},deleteRow(e){this.$confirm("After deleting this code, you will not be able to receive the code income, are you sure?","Hint",{confirmButtonText:"CONFIRM",cancelButtonText:"CANCEL",type:"warning"}).then((()=>{this.network.send(3051,{alliance_code:e})})).catch((()=>{}))},shuaxin(){this.loading||(this.loading=!0,this.isConnected&&this.network.send(3048))},openShare(){this.RECORD_SHAREVISIBLE({shareVisible:!0,sharePage:"affiliate"})},openQun(e){this.allianceCode=e.alliance_code,this.isShowAffiliateMember=!0},showUserInfoEvent(e){e&&this.RECORD_COMMONALERTSTATUS({isShowUserInfo:!0,showUserInfoUid:e.uid,isShowUserInfoHidden:!0})}},activated(){this.isConnected&&this.network.send(3047),this.shuaxin()},deactivated(){this.$nextTick((()=>{this.$refs["affiliateCampaignForm"]&&this.$refs["affiliateCampaignForm"].clearValidate()}))},mounted(){let e=this;this.network.addListener(3046,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.$message({showClose:!0,message:"Affiliate creation successful. create link rain can get more members",type:"success"}),e.affiliateCampaignData=t.arr))})),this.network.addListener(3047,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.affiliateCampaignForm.code=t.alliance_code.toLocaleLowerCase(),e.affiliateCampaignForm.name=t.alliance_code.toLocaleLowerCase()))})),this.network.addListener(3048,(function(t){e.loading=!1,e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):e.affiliateCampaignData=t.arr)})),this.network.addListener(3051,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):e.affiliateCampaignData=t.arr)}))},beforeDestroy(){this.network.removeListeners([3046,3047,3048,3051])}},b=y,_=(0,w.A)(b,c,d,!1,null,null,null),v=_.exports,A=function(){var e=this,t=e._self._c;return t("section",{staticClass:"affiliateWithdrawals_page"},[t("p",{staticClass:"title tw-text-blue-100 tw-font-bold"},[e._v("Overall Withdrawals")]),t("div",{staticClass:"main"},[t("img",{attrs:{src:e.judgeCurrencyIcon(e.independentCurrency),alt:"currency"}}),t("span",{domProps:{textContent:e._s(e.overWithdrawData[e.independentCurrency])}},[e._v("0.00000")])]),t("p",{staticClass:"title tw-text-blue-100 tw-font-bold"},[e._v("Affiliate Balance")]),t("div",{staticClass:"main"},[t("img",{attrs:{src:e.judgeCurrencyIcon(e.independentCurrency),alt:"currency"}}),t("span",{domProps:{textContent:e._s(e.withdrawData[e.independentCurrency])}},[e._v("0.00000")])]),t("el-button",{staticClass:"tw-w-full tw-mt-3",attrs:{type:"primary"},on:{click:e.withdrawEvent}},[e._v("WITHDRAW")]),t("p",{staticClass:"jinggo tw-mt-3"},[e._v("You can withdraw funds received from the Affiliate Balance to your game balance.")])],1)},k=[],S={name:"affiliateWithdrawals",props:["independentCurrency"],data(){return{judgeCurrencyIcon:o.yp,overWithdrawData:{},withdrawData:{},flag:!0}},computed:{...(0,l.aH)(["userInfo","selectCurrency","selectCurrencyIconUrl"])},methods:{withdrawEvent(){Number(this.withdrawData[this.independentCurrency])<=0||!this.flag||(this.network.send(3050,{currency:this.independentCurrency,amount:this.withdrawData[this.independentCurrency]}),this.flag=!1)},isCommonEvent(e){this.isCommon=e,this.send()},send(){this.network.send(3049)}},activated(){this.send()},mounted(){let e=this;this.network.addListener(3049,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.overWithdrawData=t.over_withdraw,e.withdrawData=t.withdraw))})),this.network.addListener(3050,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.overWithdrawData=t.over_withdraw,e.withdrawData=t.withdraw),e.flag=!0)}))},beforeDestroy(){this.network.removeListeners([3049,3050])}},D=S,E=(0,w.A)(D,A,k,!1,null,null,null),T=E.exports,x=(a(282410),a(747330)),L={name:"affiliate",components:{AffiliateCampaign:v,AffiliateWithdrawals:T,Verify:x.A,SelectCurrency:r.A,CauseRain:()=>Promise.all([a.e(299),a.e(2832)]).then(a.bind(a,850299)),AffiliateGetStarted:()=>a.e(7025).then(a.bind(a,287025))},mixins:[f.Vz],props:{appendToBody:{type:Boolean,default:!1}},data(){return{imgBaseUrl:s.o8,currency:s.Gl,judgeCurrencyIcon:o.yp,activeLiNum:0,tabData:[{text:"GET STARTED",tabName:"affiliateGetStarted"},{text:"CAMPAIGN",tabName:"affiliateCampaign"},{text:"WITHDRAWALS",tabName:"affiliateWithdrawals"}],modSalaryData:{limit:20,remaining_number:0,wait_time:0},conuntDown:null,conuntDownText:"",isShowVerify:!1,independentCurrency:"coin",causeRainVisible:!1}},watch:{isShowAffiliate(e){e?(this.$emit("open"),this.initData()):(this.$emit("close"),this.clearData())},login(){this.judgerole(this.userInfo.role).isClaimSalary&&this.login&&this.network.send(3511)}},computed:{...(0,l.aH)(["userInfo","login","isShowAffiliate"]),selectCurrency:{get(){return this.$store.state.selectCurrency},set(e){this.SELECT_CURRENCY(e)}}},methods:{...(0,l.PY)(["SELECT_CURRENCY","CHANGE_SIMPLESTATE"]),independentCurrencyChange(e){this.independentCurrency=e},alert(e){e&&(this.network.send(3510),this.isShowVerify=!1)},close(){document.body.classList.remove("body_hidden"),this.CHANGE_SIMPLESTATE({key:"isShowAffiliate",value:!1}),this.$emit("close")},navEvent(e){if(3!=e)this.activeLiNum=e;else{let e=this.judgeToken(s.pB);window.open(e,"_blank")}},initData(){this.appendToBody&&(document.body.appendChild(this.$el),document.body.classList.add("body_hidden"))},clearData(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),document.body.classList.remove("body_hidden"),this.conuntDownText="",this.conuntDown&&(this.conuntDown.remove(this.conuntDown.id),this.conuntDown=null)},modSalaryEvent(){}},mounted(){},beforeDestroy(){}},I=L,M=(0,w.A)(I,i,n,!1,null,null,null),N=M.exports}}]);