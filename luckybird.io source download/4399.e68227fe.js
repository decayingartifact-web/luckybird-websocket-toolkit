"use strict";(self["webpackChunkluckybird"]=self["webpackChunkluckybird"]||[]).push([[4399],{134399:function(e,t,i){i.r(t),i.d(t,{default:function(){return C}});var n=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"faucet_page commonAlert_page",on:{click:function(t){return t.target!==t.currentTarget?null:e.close.apply(null,arguments)}}},[t("div",{staticClass:"faucet_wrap commonAlert_wrap"},[t("div",{staticClass:"commonAlert_close",on:{click:e.close}},[t("svg",{staticClass:"iconpark-icon"},[t("use",{attrs:{href:"#close"}})])]),t("h2",{staticClass:"commonAlert_title"},[t("svg",{staticClass:"iconpark-icon"},[t("use",{attrs:{href:"#watertap"}})]),t("span",[e._v(e._s(e.$t("faucet.faucet"))+" "+e._s(e.$t("faucet.unlimited")))])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"faucet_main tw-relative",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading"}},[e._e(),t("div",{staticClass:"tw-flex tw-justify-center"},[e.visible?t("new-select-currency",{on:{independentCurrencyChange:e.independentCurrencyChange}}):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.comCloseCurrency,expression:"comCloseCurrency"}],staticClass:"main_underMaintenance"},[t("p",{staticClass:"tishi tw-mt-2 tw-mb-0 tw-text-red tw-font-bold"},[e._v(" "+e._s(e.independentCurrency.toUpperCase())+" faucet is under maintenance, please select other currency ")])]),t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowClaim&&e.isShowClock,expression:"isShowClaim && isShowClock"}]},[t("flip-clock",{ref:"faucetFlipclock",attrs:{flipclockOptions:e.flipclockOptions}})],1),t("p",{directives:[{name:"show",rawName:"v-show",value:!e.isShowClaim,expression:"!isShowClaim"}],staticClass:"tishi !tw-text-blue-250 tw-my-4"},[e._v(e._s(e.$t("faucet.balance")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!e.isShowClock,expression:"visible && !isShowClock"}],staticClass:"tw-w-[304px] tw-mx-auto tw-my-2 tw-relative"},[t("div",{staticClass:"faucet_yanzhengma tw-flex tw-justify-between tw-items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.yanzhengma,expression:"yanzhengma"}],attrs:{type:"text"},domProps:{value:e.yanzhengma},on:{blur:e.yanzhengmaBlurEvent,input:function(t){t.target.composing||(e.yanzhengma=t.target.value)}}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingYanzhengma,expression:"loadingYanzhengma"}],staticClass:"img_wrap",attrs:{"element-loading-spinner":"el-icon-loading"}},[t("el-image",{staticClass:"img_user tw-w-full tw-h-full",attrs:{alt:"refresh",src:e.yanzhengmaUrl},on:{click:e.shuaxinEvent}},[t("div",{staticClass:"tw-slot-image",attrs:{slot:"placeholder"},slot:"placeholder"}),t("div",{staticClass:"tw-slot-image tw-flex tw-justify-center tw-items-center",attrs:{slot:"error"},slot:"error"},[t("svg",{staticClass:"iconpark-icon tw-text-blue-200"},[t("use",{attrs:{href:"#Pictureerror"}})])])])],1),t("svg",{staticClass:"iconpark-icon tw-cursor-pointer",on:{click:e.shuaxinEvent}},[t("use",{attrs:{href:"#Refresh"}})])])]),t("vue-recaptcha",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!e.isShowClock,expression:"visible && !isShowClock"}],ref:"recaptcha",staticClass:"tw-w-[304px] tw-mx-auto tw-my-2",attrs:{sitekey:e.customizedObj["sitekey"],theme:"dark",loadRecaptchaScript:!0},on:{verify:e.recaptchaVerify}}),e.isShowClock?e._e():t("div",{staticClass:"claim button_primary",class:[e.isRecaptcha&&!e.clickFlag&&4==e.yanzhengma.length?"true":"false"],on:{click:e.claimEvent}},[t("span",[e._v(e._s(e.$t("faucet.claim")))])])],1),t("p",{staticClass:"tishi tw-my-4 tw-text-blue-250"},[e._v(e._s(e.$t("faucet.multi")))])]),e._e()])])},a=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"buffer_text"},[t("span",{staticClass:"iconfont"},[e._v("î˜Š")]),t("img",{attrs:{src:i(870723),alt:"getbuffer"}})])}],r=i(695353),s=i(419552),o=i(609694),c=i(416884),l=i(747330),d=(i(533338),i(819727),i(783386)),h=i.n(d),m=i(282410),u=i(209306),p=i(125945),g={name:"faucet",mixins:[u.Vz],props:{canvasId:{type:String,default:"littleGameCanvas"},visible:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1}},components:{NewSelectCurrency:()=>i.e(3926).then(i.bind(i,683926)),VueRecaptcha:s.A,Verify:l.A,FlipClock:p.oV},data(){return{timeFormat:c.DC,imgBaseUrl:o.o8,customizedObj:o.P7,isShowClaim:!1,limit:0,remaining_number:0,isRecaptcha:!1,bufferNumber:0,clickFlag:!1,checked:!1,container:null,ticker:null,ballArr:[],holeArr:[],independentCurrency:"gold",gameComplete:!1,yanzhengma:"",yanzhengmaUrl:"",isyanzhengmaFlag:!0,modSalaryData:{limit:20,remaining_number:0,wait_time:0},countDown:null,countDownText:"",isShowVerify:!1,loadingYanzhengma:!1,taskTime:0,close_currency:[],flipclockOptions:{digit:0,countdown:!0,clockFace:"MinuteCounter"},isShowClock:!1,loading:!0}},watch:{visible(e){e?(this.judgeClaim(),this.$emit("open"),this.initData()):(this.$emit("close"),this.clearData())},independentCurrency(){this.judgeClaim()},login(){this.judgerole(this.userInfo.role).isClaimSalary&&this.isConnected&&this.visible&&this.login&&this.network.send(3511)}},computed:{...(0,r.aH)(["isConnected","selectCurrency","userInfo","currencyObj","timestamp","isAllowHotkeysStatus","soundStatus"]),comIsFaucet(){return"ht"==this.independentCurrency||"usdc"==this.independentCurrency||"tusd"==this.independentCurrency||"pax"==this.independentCurrency||"bat"==this.independentCurrency||"hot"==this.independentCurrency||"link"==this.independentCurrency||"omg"==this.independentCurrency||"eos"==this.independentCurrency||"xlm"==this.independentCurrency||"usdt"==this.independentCurrency||"xrp"==this.independentCurrency||"bsv"==this.independentCurrency||"btg"==this.independentCurrency||"trx"==this.independentCurrency},comCloseCurrency(){return this.close_currency.includes(this.independentCurrency)}},methods:{...(0,r.PY)(["RECORD_SHAREVISIBLE","CHANGE_SIMPLESTATE","RECORD_ISSHOWCHAT"]),reset(e){if(e.remaining_time<=0)return;let t=this;this.$nextTick((()=>{t.$refs.faucetFlipclock&&(t.isShowClock=!0,t.$refs.faucetFlipclock.reset({digit:e.remaining_time,countdown:t.flipclockOptions.countdown,clockFace:t.flipclockOptions.clockFace,callbacks:{stop:function(){t.$refs.faucetFlipclock.instance().time.time<=0&&(t.isShowClock=!1)}}}))}))},judegOpenSef(){this.userInfo.has_email?this.shareEvent():this.CHANGE_SIMPLESTATE({key:"isSetEmail",value:!0})},modSalaryEvent(){this.modSalaryData.wait_time<=0&&this.modSalaryData.remaining_number<this.modSalaryData.limit&&(this.isShowVerify=!0)},alert1(e){e&&(this.network.send(3510),this.isShowVerify=!1)},shareEvent(){this.RECORD_SHAREVISIBLE({shareVisible:!0,sharePage:"faucet"})},alert(e){this.isRecaptcha=e},close(){document.body.classList.remove("body_hidden"),this.$emit("visible",!1),this.$emit("close"),this.clearData1()},godeposit(){document.body.classList.remove("body_hidden"),this.$emit("visible",!1),this.$emit("godeposit")},getCountdown(){this.isConnected&&this.network.send(2011)},judgeClaim(){this.isShowClaim=Number(this.userInfo.balances[this.independentCurrency].amount)<=0},claimEvent(){let e=this;this.userInfo.is_disable?this.judgeIsDisable():this.isRecaptcha&&!this.clickFlag&&this.yanzhengma&&(this.isAlertLogRegister((function(){e.getIp()})),e.clickFlag=!0)},getIp(){let e=this,t=Date.now();this.axios.get(o.oG+"upload/getIP").then((i=>{e.network.send(3052,{currency:e.independentCurrency,timestamp:t-e.timestamp,ip:0==i.data.errorCode?i.data.data.ip:"unknow",ver_code:e.yanzhengma.toLowerCase(),key:h()(e.independentCurrency+"luckybird"+(t-e.timestamp)).substring(0,8)})})).catch((i=>{e.network.send(3052,{currency:e.independentCurrency,timestamp:t-e.timestamp,ip:"error",ver_code:e.yanzhengma.toLowerCase(),key:h()(e.independentCurrency+"luckybird"+(t-e.timestamp)).substring(0,8)})}))},submit:function(){this.$refs.recaptcha.execute()},recaptchaVerify(e){let t=this;this.axios.get(o.oG+"upload/robotVerify/"+o.P7["host"]+"/"+e).then((e=>{e.errorCode<0?t.$message({showClose:!0,message:data.errorMessage,type:"error"}):t.isRecaptcha=!0})).catch((e=>{t.$message({showClose:!0,message:e.message,type:"error"}),t.isRecaptcha=!1}))},shuaxinEvent(){this.isConnected&&this.isyanzhengmaFlag&&!this.loadingYanzhengma&&(this.network.send(3078),this.isyanzhengmaFlag=!1,this.loadingYanzhengma=!0)},yanzhengmaBlurEvent(){4!=this.yanzhengma.length&&this.visible&&this.$message({showClose:!0,message:this.$t("faucet.captchaFour"),type:"error"})},sendFaucetInfo(){this.isShowClock=!1,this.isConnected&&this.network.send(3053,{currency:this.independentCurrency})},resetInitData(){this.isRecaptcha=!1,this.checked=!1,this.clickFlag=!1,this.yanzhengma="",this.isyanzhengmaFlag=!0,this.$refs.recaptcha&&this.$refs.recaptcha.reset(),this.shuaxinEvent(),this.sendFaucetInfo(),this.isShowClock=!1,this.loading=!0},initData(){let e=this;this.visible&&this.appendToBody&&(document.body.appendChild(this.$el),document.body.classList.add("body_hidden")),this.CHANGE_SIMPLESTATE({key:"isAllowHotkeysStatus",value:!1}),this.resetInitData(),this.judgerole(this.userInfo.role).isBan||e.$alert("<p>1. Multi-accounts using the faucet will be frozen</p><p>2. The more active (share, purchase, chat), the more faucet</p>",e.$t("common.hint"),{confirmButtonText:"I got it",dangerouslyUseHTMLString:!0,callback:e=>{}}),this.network.addListener(3052,(function(t){if(!e.listenerDataCommonDispose(t,(t=>{e.CHANGE_SIMPLESTATE({key:"isShowFaucet",value:!1})}))){if(t.errcode<0){if(-52===t.errcode)return void e.$confirm("In order to continue claiming faucet, you need to be more active in chat room or promote luckybird on social networks","Insufficient Activity Index",{cancelButtonText:"Active in chat room",confirmButtonText:"Promote luckybird",distinguishCancelAndClose:!0,type:"warning"}).then((()=>{e.$emit("visible",!1),e.$emit("close"),e.RECORD_SHAREVISIBLE({shareVisible:!0,sharePage:"chest"})})).catch((t=>{"cancel"===t&&(e.$emit("visible",!1),e.$emit("close"),e.RECORD_ISSHOWCHAT(!0))}));e.$message({showClose:!0,message:t.msg,type:"error"}),-2===t.errcode&&(e.$emit("visible",!1),e.$emit("close"),"btc"!=e.independentCurrency||e.userInfo.has_email||e.$alert(e.$t("faucet.setUpEmail"),e.$t("common.hint"),{confirmButtonText:e.$t("common.confirm"),callback:t=>{"confirm"==t&&(e.userInfo.alliance_code||e.userInfo.channel)&&e.openSettings("email")}}))}else new Howl({src:i(205708),mute:!e.soundStatus}).play(),e.isShowClaim=!1,e.limit=t.limit,e.remaining_number=t.remaining_number,e.$emit("visible",!1),e.$emit("close"),"btc"!=e.independentCurrency||e.userInfo.has_email||e.$alert(e.$t("faucet.setUpEmail"),e.$t("common.hint"),{confirmButtonText:e.$t("common.confirm"),callback:t=>{"confirm"==t&&(e.userInfo.alliance_code||e.userInfo.channel)&&e.openSettings("email")}});e.clickFlag=!1}})),this.network.addListener(3053,(function(t){e.loading=!1,e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.limit=t.limit,e.remaining_number=t.remaining_number,e.bufferNumber=t.level,e.taskTime=t.time,e.close_currency=t.close_currency,e.reset(t)))})),this.network.addListener(3078,(function(t){e.loadingYanzhengma=!1,e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):e.yanzhengmaUrl=t.base64,e.isyanzhengmaFlag=!0)})),this.network.addListener(3075,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):e.showGameTable(t["arr"]))})),this.network.addListener(3076,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):e.gameComplete=t["is_auth"])})),this.judgerole(this.userInfo.role).isClaimSalary&&this.isConnected&&this.visible&&this.login&&this.network.send(3511),this.network.addListener(3510,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.modSalaryData.limit=t.limit,e.modSalaryData.remaining_number=t.remaining_number,e.modSalaryData.wait_time=t.wait_time,t.wait_time>0&&t.remaining_number<t.limit&&(e.countDown=new m.U({template:"{m}:{s}",render:function(t){e.countDownText=t},end:function(){e.countDownText=e.$t("faucet.claimSalary"),e.judgerole(e.userInfo.role).isClaimSalary&&e.isConnected&&e.network.send(3511)},endTime:Date.now()+1e3*t.wait_time}))))})),this.network.addListener(3511,(function(t){e.listenerDataCommonDispose(t)||(t.errcode<0?e.$message({showClose:!0,message:t.msg,type:"error"}):(e.modSalaryData.limit=t.limit,e.modSalaryData.remaining_number=t.remaining_number,e.modSalaryData.wait_time=t.wait_time,t.wait_time>0&&t.remaining_number<t.limit&&(e.countDown=new m.U({template:"{m}:{s}",render:function(t){e.countDownText=t},end:function(){e.countDownText=e.$t("faucet.claimSalary"),e.judgerole(e.userInfo.role).isClaimSalary&&e.isConnected&&e.network.send(3511)},endTime:Date.now()+1e3*t.wait_time}))))}))},clearData(){this.appendToBody&&this.$el&&this.$el.parentNode&&(this.$el.parentNode.removeChild(this.$el),document.body.classList.remove("body_hidden")),this.network.removeListeners([3052,3053,3075,3076,3078,3510,3511]),this.loading=!0,this.independentCurrency="gold",this.yanzhengmaUrl="",this.CHANGE_SIMPLESTATE({key:"isAllowHotkeysStatus",value:!0}),this.countDownText="",this.countDown&&(this.countDown.remove(this.countDown.id),this.countDown=null)},showGameTable(e){var t=this;this.ballArr=[],this.holeArr=[],t.container&&t.container.removeAllChildren();var i=(new Hilo.Graphics).addTo(t.container);i.lineStyle(2,"#263553").drawRoundRect(0,0,294,145,6).endFill();for(let l=0;l<6;l++){var n=new Hilo.Graphics({x:3+49*l,y:94}).addTo(t.container);n.beginFill("#263553").drawRect(0,0,48,48).endFill(),t.holeArr.push(n);var a=new Hilo.Graphics({x:9+49*l,y:100});a.beginFill("#1A2941").drawCircle(0,0,18).endFill();new Hilo.Text({text:e[l],textAlign:"center",textVAlign:"bottom",font:"17px luckybirdNomal",width:36,height:36,x:9+49*l,y:98,mask:a,color:"#748fad"}).addTo(t.container)}for(let l=0;l<6;l++){var r=t.RandomNumBoth(30,270),s=t.RandomNumBoth(30,60),o=new Hilo.Graphics({x:r,y:s,id:l+"ball"});o.beginFill("#69abf0").drawCircle(0,0,15).endFill();var c=new Hilo.Text({id:l+"ballText",text:e[l],textAlign:"center",textVAlign:"bottom",font:"17px luckybirdNomal",width:30,height:30,x:r,y:s,mask:o,color:"#FFF"}).addTo(t.container);Hilo.util.copy(c,Hilo.drag),c.startDrag([0,0,265,115]),c.on("dragMove",(function(e){var t=e.target.mask;t.x=e.target.x,t.y=e.target.y})),c.on("dragEnd",(function(e){var i=0,n=[];for(let a=0;a<6;a++)t.checkSafeLength(t.ballArr[a].x+15,t.holeArr[a].x+24,t.ballArr[a].y+15,t.holeArr[a].y+24,30)?(n[a]=t.ballArr[a].text,t.ballArr[a].mask.clear(),t.ballArr[a].mask.beginFill("#2ba81d").drawCircle(0,0,15).endFill(),t.ballArr[a].x=t.holeArr[a].x+9,t.ballArr[a].y=t.holeArr[a].y+9,t.ballArr[a].mask.x=t.holeArr[a].x+9,t.ballArr[a].mask.y=t.holeArr[a].y+9,i++):(t.ballArr[a].mask.clear(),t.ballArr[a].mask.beginFill("#69abf0").drawCircle(0,0,15).endFill());6===i?(t.container.updateViewport(),t.network.send(3076,{arr:n})):t.container.updateViewport()})),t.ballArr.push(c)}},RandomNumBoth(e,t){var i=t-e,n=Math.random(),a=e+Math.round(n*i);return a},checkSafeLength(e,t,i,n,a){var r=Math.sqrt((e-t)*(e-t)+(i-n)*(i-n));return r<=a},initData1(){},initTable(e){this.showGameTable(e)},clearData1(){},independentCurrencyChange(e){this.independentCurrency=e,this.resetInitData()}},created(){},mounted(){},beforeDestroy(){this.clearData()}},f=g,w=i(281656),y=(0,w.A)(f,n,a,!1,null,null,null),C=y.exports},419552:function(e,t){function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.apply(this,arguments)}var n=function(){var e=!1,t=[],i=function(i){if(!e){e=!0;for(var n=0,a=t.length;n<a;n++)t[n](i)}},n=function(i){e?i():t.push(i)},a={resolved:function(){return e},resolve:i,promise:{then:n}};return a},a=Object.prototype.hasOwnProperty;function r(){var e=n();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,t,i){this.wait().then((function(){i(window.grecaptcha.render(e,t))}))},reset:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){a.call(window,"grecaptcha")&&a.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var s=r();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=s.notify);var o={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var e=document.createElement("script");e.id=this.recaptchaScriptId,e.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,e.async=!0,e.defer=!0,document.head.appendChild(e)}},mounted:function(){var e=this;s.checkRecaptchaLoad();var t=i({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),n=this.$slots["default"]?this.$el.children[0]:this.$el;s.render(n,t,(function(t){e.$widgetId=t,e.$emit("render",t)}))},methods:{reset:function(){s.reset(this.$widgetId)},execute:function(){s.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(e){return e("div",{},this.$slots["default"])}};t.A=o},870723:function(e,t,i){e.exports=i.p+"img/getbuffer.91f989b6.png"},205708:function(e,t,i){e.exports=i.p+"media/faucet_grab.37e21390.mp3"}}]);