"use strict";(self["webpackChunkluckybird"]=self["webpackChunkluckybird"]||[]).push([[5157],{795157:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"securityVerification_page"},[t("el-dialog",{attrs:{title:e.$t("common.securityQuestion"),visible:e.tfaVisible,width:"30%",modal:!0,"append-to-body":!0,"custom-class":"securityVerification_dialog"},on:{"update:visible":function(t){e.tfaVisible=t},close:e.closeEvent}},[e.userInfo.has_email?t("span",[e._v(e._s(e.$t("common.fullYourEmail"))+" ("+e._s(e.userInfo.email)+")")]):e._e(),e.userInfo.has_email?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputEmail,expression:"inputEmail"}],ref:"inputEmail",staticClass:"el-input__inner",attrs:{autofocus:"",type:"text"},domProps:{value:e.inputEmail},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.inputEmail=t.target.value)}}}):e._e(),t("span",[e._v(e._s(e.$t("common.inputYourFa")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tfaText,expression:"tfaText"}],ref:"tfaInput",staticClass:"el-input__inner",attrs:{autofocus:"",type:"text"},domProps:{value:e.tfaText},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.tfaText=t.target.value)}}}),t("span",{staticClass:"securityVerification_forget",on:{click:e.forgetTfaEvent}},[e._v(e._s(e.$t("common.forgetFa")))]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info"},on:{click:function(t){e.tfaVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.tfaConfirmEvent}},[e._v(e._s(e.$t("common.confirm")))])],1)]),t("el-dialog",{attrs:{title:e.$t("common.securityQuestion"),visible:e.passwordVisible,width:"30%",modal:!0,"append-to-body":!0,"close-on-click-modal":!1,"custom-class":"securityVerification_dialog"},on:{"update:visible":function(t){e.passwordVisible=t},close:e.closeEvent}},[e.userInfo.has_email?t("span",[e._v(e._s(e.$t("common.fullYourEmail"))+" ("+e._s(e.userInfo.email)+")")]):e._e(),e.userInfo.has_email?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputEmail,expression:"inputEmail"}],ref:"inputEmail",staticClass:"el-input__inner",attrs:{type:"text"},domProps:{value:e.inputEmail},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.inputEmail=t.target.value)}}}):e._e(),t("span",[e._v(e._s(e.$t("common.inputYourPassword")))]),t("span",{staticClass:"securityVerification_forget",on:{click:e.forgetPasswordEvent}},[e._v(e._s(e.$t("common.forgetPassword")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordText,expression:"passwordText"}],ref:"passwordInput",staticClass:"el-input__inner",attrs:{type:"password"},domProps:{value:e.passwordText},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.passwordText=t.target.value)}}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info"},on:{click:function(t){e.passwordVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),t("el-button",{attrs:{type:"primary",loading:e.sending},on:{click:e.passwordConfirmEvent}},[e._v(e._s(e.$t("common.confirm")))])],1)]),t("el-dialog",{attrs:{title:e.$t("common.securityQuestion"),visible:e.emailCodeVisible,width:"30%",modal:!0,"append-to-body":!0,"close-on-click-modal":!1,"custom-class":"securityVerification_dialog"},on:{"update:visible":function(t){e.emailCodeVisible=t},close:e.closeEvent}},[e.userInfo.has_email?t("span",[e._v(e._s(e.$t("common.fullYourEmail"))+" ("+e._s(e.userInfo.email)+")")]):e._e(),e.userInfo.has_email?t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputEmail,expression:"inputEmail"}],ref:"inputEmail",staticClass:"el-input__inner",attrs:{type:"text"},domProps:{value:e.inputEmail},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.inputEmail=t.target.value)}}}):e._e(),t("span",[e._v("Input your email code")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCodeText,expression:"emailCodeText"}],ref:"emailCodeInput",staticClass:"el-input__inner",attrs:{type:"text"},domProps:{value:e.emailCodeText},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.emailCodeText=t.target.value)}}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info"},on:{click:function(t){e.emailCodeVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.emailCodeConfirmEvent}},[e._v(e._s(e.$t("common.confirm")))])],1)]),t("el-dialog",{attrs:{title:e.$t("common.securityQuestion"),visible:e.tfaEmailCodeVisible,width:"30%",modal:!0,"append-to-body":!0,"close-on-click-modal":!1,"custom-class":"securityVerification_dialog"},on:{"update:visible":function(t){e.tfaEmailCodeVisible=t},close:e.closeEvent}},[t("span",[e._v("Input your email code")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCodeText,expression:"emailCodeText"}],ref:"emailCodeInput",staticClass:"el-input__inner",attrs:{type:"text"},domProps:{value:e.emailCodeText},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.emailCodeText=t.target.value)}}}),t("span",[e._v(e._s(e.$t("common.inputYourFa")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tfaText,expression:"tfaText"}],ref:"tfaInput",staticClass:"el-input__inner",attrs:{autofocus:"",type:"text"},domProps:{value:e.tfaText},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.tfaText=t.target.value)}}}),t("span",{staticClass:"securityVerification_forget",on:{click:e.forgetTfaEvent}},[e._v(e._s(e.$t("common.forgetFa")))]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info"},on:{click:function(t){e.tfaEmailCodeVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.tfaEmailCodeConfirmEvent}},[e._v(e._s(e.$t("common.confirm")))])],1)])],1)},o=[],a=s(695353),n=s(209306),r=s(885471);const l=new WeakMap;let c=3e3;function m(e,t,s=c){if(!e||!t)return!1;if(e.$data&&!(t in e.$data)&&r["default"].set(e,t,!1),e[t])return!1;r["default"].set(e,t,!0);const i=l.get(e)||{},o=setTimeout((()=>u(e,t)),s);return i[t]={timer:o,order:Date.now()},l.set(e,i),!0}function u(e,t){const s=l.get(e);s&&s[t]&&(clearTimeout(s[t].timer),r["default"].set(e,t,!1),delete s[t],Object.keys(s).length||l.delete(e))}var p=s(416884),d={name:"securityVerification",mixins:[n.GU],props:{source:{type:String,default:"withdraw"}},data(){return{tfaVisible:!1,tfaText:"",passwordVisible:!1,passwordText:"",inputEmail:"",emailCodeVisible:!1,emailCodeText:"",tfaEmailCodeVisible:!1,sending:!1}},watch:{tfaVisible(){this.tfaVisible&&this.$nextTick((()=>{}))},passwordVisible(){this.passwordVisible&&this.$nextTick((()=>{}))}},computed:{...(0,a.aH)(["userInfo"])},methods:{closeEvent(){this.$emit("verificationClose")},sendGetType(){this.network.send(3514,{source:this.source})},tfaConfirmEvent:(0,p.rj)((function(){const e=m(this,"sending");e&&(""===this.inputEmail&&this.userInfo.has_email?this.$message({showClose:!0,message:this.$t("common.pleaseEnterEmail"),type:"error"}):""!==this.tfaText?this.network.send(3515,this.userInfo.has_email?{type:1,secret_code:this.tfaText,email:this.inputEmail,source:this.source}:{type:1,secret_code:this.tfaText,source:this.source}):this.$message({showClose:!0,message:this.$t("common.pleaseEnterFa"),type:"error"}))})),passwordConfirmEvent:(0,p.rj)((function(){const e=m(this,"sending");e&&(""===this.inputEmail&&this.userInfo.has_email?this.$message({showClose:!0,message:this.$t("common.pleaseEnterEmail"),type:"error"}):""!==this.passwordText?this.network.send(3515,this.userInfo.has_email?{type:2,secret_code:this.passwordText,email:this.inputEmail,source:this.source}:{type:2,secret_code:this.passwordText,source:this.source}):this.$message({showClose:!0,message:this.$t("common.pleaseEnterPass"),type:"error"}))})),emailCodeConfirmEvent:(0,p.rj)((function(){const e=m(this,"sending");e&&(""!==this.emailCodeText?this.network.send(3515,{type:3,secret_code:this.emailCodeText,source:this.source}):this.$message({showClose:!0,message:"Please enter email code",type:"error"}))})),tfaEmailCodeConfirmEvent:(0,p.rj)((function(){const e=m(this,"sending");e&&(""!==this.tfaText?""!==this.emailCodeText?this.network.send(3515,{type:4,secret_code:this.tfaText,email_code:this.emailCodeText,source:this.source}):this.$message({showClose:!0,message:"Please enter email code",type:"error"}):this.$message({showClose:!0,message:this.$t("common.pleaseEnterFa"),type:"error"}))}))},mounted(){let e=this;e.network.addListener(3514,(function(t){if(!e.listenerDataCommonDispose(t,(t=>{e.$emit("verificationClose"),"confirm"===t&&e.$emit("verificationRoute")})))if(t.errcode<0)e.$message({showClose:!0,message:t.msg,type:"error"}),e.$emit("verificationError");else switch(t.type){case 0:e.network.send(3515,{type:t.type,source:e.source});break;case 1:e.tfaVisible=!0;break;case 2:e.passwordVisible=!0;break;case 3:e.emailCodeVisible=!0;break;case 4:e.tfaEmailCodeVisible=!0;break}})),e.network.addListener(3515,(function(t){if(u(e,"sending"),!e.listenerDataCommonDispose(t))if(t.errcode<0)e.$message({showClose:!0,message:t.msg,type:"error"}),e.$emit("verificationError");else{if(t.hasOwnProperty("type"))switch(t.type){case 0:break;case 1:e.tfaVisible=!1;break;case 2:e.passwordVisible=!1;break;case 3:e.emailCodeVisible=!1;break;case 4:e.tfaEmailCodeVisible=!1;break}e.$emit("verificationOk")}}))},beforeDestroy(){this.network.removeListeners([3514,3515])}},f=d,v=s(281656),h=(0,v.A)(f,i,o,!1,null,null,null),_=h.exports}}]);